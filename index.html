<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>仙女座地球可视化</title>
    <style>
        body {
            background: #eee;
        }

        #globeArea {
            position: relative;
            /*transform: scale(1,.6);*/
            /*background:url(/static/机场.png);*/
        }
    </style>
    <script src="/static/worlddata.js"></script>
    <script src="/static/HotNewsData.js"></script>

    <!--    <script src="https://raw.githack.com/syt123450/giojs/master/assets/data/sampleData.js"></script>-->

</head>
<body>
<a id="destory">销毁</a>
<div id="globeArea" style="width: 800px; height: 800px"></div>
</body>
<script type="module">
    var option = {
        "baseGlobal": {
            "gridSize": 2,
            "color": "#000000",
            "areaColor": "rgba(0,39,81,1)",
            "gridStep": '2',
            "gridColor": "rgba(1,87,155,1)",
            "showLine": true,
            "opacity": ".6",
            "countryPolygonType": "area",
            "areaLine": "rgba(84,145,219,1)",
            "texture": {
                show: false
            }
        },
        "R": "130",
        "backgroundColor": "rgba(0,39,81,1)",
        "tooltip": {"backgroundColor": "rgba(0,0,0,.8)", "color": "#fff", "content": ""},
        "backgroundOpacity": 1,
        "label": {
            "start": {
                "backgroundColor": "rgba(8,85,139,.8)",
                "backgroundImage": "",
                "backgroundSize": "",
                "borderColor": "#00B4FF",
                "color": "#fff",
                "borderRadius": 4,
                "borderWidth": 1,
                "show": true,
                "fontSize": 12,
                "borderStyle": "solid",
                "padding": 4,
                "content": "",
            },
            "end": {
                "backgroundColor": "rgba(8,85,139,.8)",
                "backgroundImage": "",
                "backgroundSize": "",
                "borderColor": "#00B4FF",
                "color": "#fff",
                "borderRadius": 4,
                "borderWidth": 1,
                "show": true,
                "fontSize": 12,
                "borderStyle": "solid",
                "padding": 4,
                "endContent": "<p class=\"paragraph\" style='padding:4px 6px'><span class=\"bi-label-field\" data-key=\"ZKUNNR_ZLANDX\" contenteditable=\"false\">money</span> <span class=\"bi-label-field\" data-key=\"money$$_sum\" contenteditable=\"false\">money</span>元<br></p>"
            },
        },
        "type": "fly",
        "attr": {
            "area": {"colors": ["#ff0000", "#ffffff"]},
            "fly": {
                "type": {
                    "lightBar": {"show": true, "width": 0.12},
                    "bar": {"radiusBottom": 2, "show": false, "radiusTop": 2, "segments": "4"},
                    "flyLine": {
                        "dashSize": 3,
                        "color": "rgba(71,220,240,1)",
                        "lineType": "Dashed",
                        "show": true,
                        "width": 1,
                        "gapSize": 1
                    },
                    "flyPoint": {"pointSize": 6, "color": "rgba(255,167,38,1)", "len": 0.2, "show": true},
                    "cone": {"show": true, "height": 0.0625, "ratio": 3, "segments": 4},
                    "wave": {"show": true, "width": 0.22},
                    "circleLight": {"show": true, "width": 0.12}
                }, "colors": ["rgba(231,96,28,1)", "#ffff4a", "rgba(127,222,234,1)"]
            },
            "hot": {
                "type": {
                    "lightBar": {"show": true, "width": 0.12},
                    "bar": {"radiusBottom": 4, "show": false, "radiusTop": 4, "segments": 4},
                    "cone": {"show": false, "height": 0.0625, "ratio": 3, "segments": 4},
                    "wave": {"show": true, "width": 0.22},
                    "circleLight": {"show": true, "width": 0.12}
                }, "colors": ["#2c8ad7", "#3bd5ac", "#d5860c"]
            }
        },
        "animate": {"rotateStep": "0.013", "open": true},
        "lightSphere": {"color": "rgba(24,87,155,1)", "show": true, "opacity": "3"},
        "data": [{
            "zuobiao": "77.13,28.37",
            "ZKUNNR_ZLANDX": "印度",
            "money$$_sum": 5758386.75,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "576万"
        }, {
            "zuobiao": "114.10,22.20",
            "ZKUNNR_ZLANDX": "中国香港",
            "money$$_sum": 6912509.8,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "691万"
        }, {
            "zuobiao": "12.34,55.41",
            "ZKUNNR_ZLANDX": "丹麦",
            "money$$_sum": 7257241.69,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "726万"
        }, {
            "zuobiao": "-77.02,39.91",
            "ZKUNNR_ZLANDX": "美国",
            "money$$_sum": 2392107.99,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "239万"
        }, {
            "zuobiao": "4.54,52.23",
            "ZKUNNR_ZLANDX": "荷兰",
            "money$$_sum": 112812,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "11万"
        }, {
            "zuobiao": "114.3,48.04",
            "ZKUNNR_ZLANDX": "蒙古",
            "money$$_sum": 360000,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "36万"
        }, {
            "zuobiao": "100.35,13.45",
            "ZKUNNR_ZLANDX": "泰国",
            "money$$_sum": 999600,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "100万"
        }, {
            "zuobiao": "103.45,1.22",
            "ZKUNNR_ZLANDX": "新加坡",
            "money$$_sum": 43958000,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "4,396万"
        }, {
            "zuobiao": "32.54,39.57",
            "ZKUNNR_ZLANDX": "土耳其",
            "money$$_sum": 7080000,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "708万"
        }, {
            "zuobiao": "10.11,36.5",
            "ZKUNNR_ZLANDX": "突尼斯",
            "money$$_sum": 1006400,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "101万"
        }, {
            "zuobiao": "73.1,33.4",
            "ZKUNNR_ZLANDX": "巴基斯坦",
            "money$$_sum": 517500,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "52万"
        }],
        "countryName": "countryname",
        "lonlat": "lonlat",
        "toLonlat": "zuobiao",
        "valueName": "money$$_sum",
        "toCountryName": "ZKUNNR_ZLANDX",
        "formatValue": '$$_formatValue'
    }
    option = {
        "baseGlobal": {
            "gridSize": 2,
            "color": "#000000",
            "areaColor": "rgba(255,255,255,1)",
            "gridStep": 2,
            "texture": {"img": "/bi/api/picture/query?pictureId=674fe4b8b69c45a9b57d86e3231da3df", "show": true},
            "gridColor": "#00ccc2",
            "showLine": true,
            "opacity": 1,
            "countryPolygonType": "area",
            "areaLine": "#00ccc2",
            "showArea": true
        },
        "R": "130",
        "backgroundColor": "#000000",
        "tooltip": {"backgroundColor": "rgba(0,0,0,.8)", "color": "#fff", "content": ""},
        "backgroundOpacity": 1,
        "label": {
            "start": {
                "padding": 4,
                "backgroundColor": "rgba(26,94,32,1)",
                "borderColor": "#00B4FF",
                "color": "#fff",
                "borderRadius": 4,
                "backgroundImage": "/bi/api/picture/query?pictureId=0f341a2b3d6a4347b66b0eeb12166452",
                "borderWidth": 1,
                "show": true,
                "backgroundSize": "",
                "fontSize": 12,
                "borderStyle": "solid",
                "content": "<p class=\"paragraph\"><span class=\"bi-label-field\" data-key=\"countryname\" contenteditable=\"false\"><span class=\"colour\" style=\"color:rgba(0,0,0,1)\"><span class=\"size\" style=\"font-size: 16px\">countryname</span></span></span><span class=\"colour\" style=\"color:rgba(26,94,32,1)\"></span><br></p>"
            },
            "end": {
                "padding": 4,
                "backgroundColor": "rgba(8,85,139,.8)",
                "borderColor": "#00B4FF",
                "color": "#fff",
                "borderRadius": 4,
                "backgroundImage": "",
                "borderWidth": 1,
                "show": false,
                "backgroundSize": "",
                "fontSize": 12,
                "borderStyle": "solid",
                "content": ""
            }
        },
        "type": "fly",
        "attr": {
            "area": {"colors": ["#ff0000", "#ffffff"]},
            "fly": {
                "type": {
                    "lightBar": {"show": true, "width": 0.12},
                    "bar": {"radiusBottom": 2, "show": false, "radiusTop": 2, "segments": "4"},
                    "flyLine": {
                        "dashSize": 3,
                        "color": "#00ccc2",
                        "lineType": "Basic",
                        "show": true,
                        "width": 1,
                        "gapSize": 1
                    },
                    "flyPoint": {"pointSize": 6, "color": "#ffaa00", "len": 0.2, "show": true},
                    "cone": {"show": true, "height": 0.0625, "ratio": 3, "segments": 4},
                    "wave": {"show": true, "width": 0.22},
                    "circleLight": {"show": true, "width": 0.12}
                }, "colors": ["#00ccc2", "#ffff4a"]
            },
            "hot": {
                "type": {
                    "lightBar": {"show": true, "width": 0.12},
                    "bar": {"radiusBottom": 4, "show": false, "radiusTop": 4, "segments": 4},
                    "cone": {"show": false, "height": 0.0625, "ratio": 3, "segments": 4},
                    "wave": {"show": true, "width": 0.22},
                    "circleLight": {"show": true, "width": 0.12}
                }, "colors": ["#2c8ad7", "#3bd5ac", "#d5860c"]
            }
        },
        "animate": {"rotateStep": 0.012, "open": true},
        "lightSphere": {"color": "#048989", "show": true, "opacity": 2},
        "data": [{
            "zuobiao": "77.13,28.37",
            "ZKUNNR_ZLANDX": "印度",
            "money$$_sum": 5758386.75,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 5758386.75
        }, {
            "zuobiao": "114.10,22.20",
            "ZKUNNR_ZLANDX": "中国香港",
            "money$$_sum": 6912509.8,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 6912509.8
        }, {
            "zuobiao": "12.34,55.41",
            "ZKUNNR_ZLANDX": "丹麦",
            "money$$_sum": 7257241.69,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 7257241.69
        }, {
            "zuobiao": "-77.02,39.91",
            "ZKUNNR_ZLANDX": "美国",
            "money$$_sum": 2392107.99,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 2392107.99
        }, {
            "zuobiao": "4.54,52.23",
            "ZKUNNR_ZLANDX": "荷兰",
            "money$$_sum": 112812,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 112812
        }, {
            "zuobiao": "114.3,48.04",
            "ZKUNNR_ZLANDX": "蒙古",
            "money$$_sum": 360000,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 360000
        }, {
            "zuobiao": "100.35,13.45",
            "ZKUNNR_ZLANDX": "泰国",
            "money$$_sum": 999600,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 999600
        }, {
            "zuobiao": "103.45,1.22",
            "ZKUNNR_ZLANDX": "新加坡",
            "money$$_sum": 43958000,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 43958000
        }, {
            "zuobiao": "32.54,39.57",
            "ZKUNNR_ZLANDX": "土耳其",
            "money$$_sum": 7080000,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 7080000
        }, {
            "zuobiao": "10.11,36.5",
            "ZKUNNR_ZLANDX": "突尼斯",
            "money$$_sum": 1006400,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 1006400
        }, {
            "zuobiao": "73.1,33.4",
            "ZKUNNR_ZLANDX": "巴基斯坦",
            "money$$_sum": 517500,
            "countryname": "中国",
            "lonlat": "116.2,39.55",
            "$$_formatValue": 517500
        }],
        "countryName": "countryname",
        "lonlat": "lonlat",
        "toLonlat": "zuobiao",
        "valueName": "money$$_sum",
        "toCountryName": "ZKUNNR_ZLANDX",
        "formatValue": "$$_formatValue"
    };
    var xnwebglglobal = new XNWebglGlobal(document.getElementById("globeArea"), option)
    document.querySelector('#destory').addEventListener('click', e => {
        if (xnwebglglobal) {
            xnwebglglobal.destory();
        }
        xnwebglglobal = new XNWebglGlobal(document.getElementById("globeArea"), option)
    })

</script>
</html>
