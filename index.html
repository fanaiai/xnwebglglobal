<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>仙女座地球可视化</title>
    <style>
        body {
            background: #eee;
        }

        #globeArea {
            position: relative;
            /*transform: scale(1,.6);*/
            /*background:url(/static/机场.png);*/
        }
    </style>
    <script src="/static/worlddata.js"></script>
    <script src="/static/HotNewsData.js"></script>

    <!--    <script src="https://raw.githack.com/syt123450/giojs/master/assets/data/sampleData.js"></script>-->

</head>
<body>
<a id="destory">销毁</a>
<div id="globeArea" style="width: 800px; height: 800px"></div>
</body>
<script type="module">
    var option = {
        "baseGlobal": {
            "areaOpacity": "0.4",
            "color": "#000000",
            "areaColor": "rgba(144,202,249,1)",
            "gridStep": "2",
            "texture": {"img": "/bi/api/picture/query?pictureId=7cff66c2c5f3422a95a1bac83d3408d3", "show": true},
            "countryPolygonType": "area",
            "areaLine": "rgba(37,198,218,1)",
            "showArea": false,
            "areaLineOpacity": "0.5",
            "gridSize": "2",
            "gridColor": "rgba(144,202,249,1)",
            "showLine": false,
            "opacity": ".8"
        },
        "R": "130",
        "backgroundColor": "rgba(0,0,0,0)",
        "tooltip": {"backgroundColor": "rgba(0,0,0,.8)", "color": "#fff", "content": ""},
        "backgroundOpacity": "0",
        "label": {
            "start": {
                "padding": 4,
                "backgroundColor": "rgba(239,108,0,1)",
                "borderColor": "#00B4FF",
                "color": "#fff",
                "borderRadius": 4,
                "backgroundImage": "",
                "borderWidth": "0",
                "show": true,
                "backgroundSize": "",
                "fontSize": 12,
                "borderStyle": "solid",
                "content": "<p class=\"paragraph\"><span class=\"colour\" style=\"color:rgba(239,108,0,1)\"><span class=\"size\" style=\"font-size: 16px\"></span></span><span class=\"bi-label-field\" data-key=\"countryname\" contenteditable=\"false\"><span class=\"size\" style=\"font-size: 16px\">countryname</span></span><br></p>"
            },
            "end": {
                "padding": 4,
                "backgroundColor": "rgba(0,180,255,0.52)",
                "borderColor": "rgba(255,255,255,1)",
                "color": "#fff",
                "borderRadius": 4,
                "backgroundImage": "",
                "borderWidth": "1",
                "show": true,
                "backgroundSize": "",
                "fontSize": 12,
                "borderStyle": "solid",
                "content": "<p class=\"paragraph\"><span class=\"colour\" style=\"color:rgba(0,180,255,0.52)\"></span><span class=\"colour\" style=\"color:rgba(0,180,255,1)\"></span><span class=\"bi-label-field\" data-key=\"name_cn\" contenteditable=\"false\">name_cn</span>&nbsp; &nbsp; <span class=\"bi-label-field\" data-key=\"ZKWZI2\" contenteditable=\"false\">ZKWZI2</span>元<br></p>"
            }
        },
        "type": "fly",
        "attr": {
            "area": {"colors": ["#ff0000", "#ffffff"]},
            "fly": {
                "type": {
                    "lightBar": {"show": true, "width": 0.12, "ratio": "0.4"},
                    "bar": {"radiusBottom": 2, "show": false, "radiusTop": 2, "segments": "4"},
                    "flyLine": {
                        "dashSize": 3,
                        "color": "rgba(255,84,84,1)",
                        "lineType": "Dashed",
                        "show": true,
                        "width": 1,
                        "gapSize": 1
                    },
                    "flyPoint": {"pointSize": 6, "color": "#ffaa00", "len": 0.2, "show": true},
                    "cone": {"show": true, "height": 0.0625, "ratio": 3, "segments": 4},
                    "wave": {"show": true, "width": 0.22},
                    "circleLight": {"show": true, "width": 0.12}
                }, "colors": ["rgba(255,210,0,1)", "#ffff4a"]
            },
            "hot": {
                "type": {
                    "lightBar": {"show": true, "width": 0.12},
                    "bar": {"radiusBottom": 4, "show": false, "radiusTop": 4, "segments": 4},
                    "cone": {"show": false, "height": 0.0625, "ratio": 3, "segments": 4},
                    "wave": {"show": true, "width": 0.22},
                    "circleLight": {"show": true, "width": 0.12}
                }, "colors": ["#2c8ad7", "#3bd5ac", "#d5860c"]
            }
        },
        "animate": {"rotateStep": "0.006", "open": true},
        "lightSphere": {"color": "rgba(10,61,122,1)", "show": true, "opacity": "4"},
        "data": [
            {
            "ZKWZI2": 551000,
            "countryname": "中国",
            "location": "114.10,22.20",
            "name_cn": "中国香港",
            "lonlat": "116.2,39.55",
            "$$_formatValue": "55万"
            },
            {
                "ZKWZI2": 5000,
                "countryname": "中国",
                "location": "116.2,39.55",
                "name_cn": "中国",
                "lonlat": "116.2,39.55",
                "$$_formatValue": "55万"
            }
        ],
        "countryName": "countryname",
        "lonlat": "lonlat",
        "toLonlat": "location",
        "valueName": "ZKWZI2",
        "toCountryName": "name_cn",
        "formatValue": "$$_formatValue"
    };
    var xnwebglglobal = new XNWebglGlobal(document.getElementById("globeArea"), option)
    document.querySelector('#destory').addEventListener('click', e => {
        if (xnwebglglobal) {
            xnwebglglobal.destory();
        }
        xnwebglglobal = new XNWebglGlobal(document.getElementById("globeArea"), option)
    })

</script>
</html>
